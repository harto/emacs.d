#!/bin/bash

# Transforms the output of node's `jslint` command into something that
# can be consumed by flymake-jslint, i.e.
#
#   <line>:<col>:<message>
#
# Install jslint executable using npm:
#
#   $ npm install jslint

jslint $@ | sed -nE '/^ *#[0-9]+ / {
  N
  s|^ *#[0-9]+ (.+)\n.+// Line ([0-9]+), Pos ([0-9]+)|\2:\3:\1|
  s|\.$||
  p
}'

    
